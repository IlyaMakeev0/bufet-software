# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ ERR_EMPTY_RESPONSE

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü–æ—Ä—Ç—ã 443 –∏ 1593 –∑–∞–Ω—è—Ç—ã!

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤:
- **8080** –≤–º–µ—Å—Ç–æ 80 (HTTP)
- **8443** –≤–º–µ—Å—Ç–æ 443 (HTTPS)

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ `–í–ê–ñ–ù–û_–ü–û–†–¢–´.md`

---

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. **–ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞**
- –ò–∑–º–µ–Ω–µ–Ω —Å `80` –Ω–∞ `5000` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–ª—è Render)
- Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç —Å–≤–æ–π –ø–æ—Ä—Ç —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `PORT`

### 2. **CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
- –ò–∑–º–µ–Ω–µ–Ω–æ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ URL –Ω–∞ `*` –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Å–∞–π—Ç—É —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –ª—é–±–æ–º –¥–æ–º–µ–Ω–µ

### 3. **Health check endpoint**
- –î–æ–±–∞–≤–ª–µ–Ω `/health` —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
- Render –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 4. **render.yaml –∏ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
- –£–±—Ä–∞–Ω–∞ –∂–µ—Å—Ç–∫–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –ø–æ—Ä—Ç—É 10000 –≤ render.yaml
- Docker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç—ã 8080 –∏ 8443 (–≤–º–µ—Å—Ç–æ 80 –∏ 443)
- –ü–æ—Ä—Ç—ã 443 –∏ 1593 –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (–∑–∞–Ω—è—Ç—ã –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏)

---

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Render.com

1. **–ó–∞–π–¥–∏—Ç–µ –≤ Dashboard Render**
2. **–ù–∞–π–¥–∏—Ç–µ –≤–∞—à —Å–µ—Ä–≤–∏—Å** (school-canteen-app)
3. **–ù–∞–∂–º–∏—Ç–µ "Manual Deploy" ‚Üí "Clear build cache & deploy"**
4. **–î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è** (5-10 –º–∏–Ω—É—Ç)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–≤–æ–π VPS/—Å–µ—Ä–≤–µ—Ä

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/your/project

# –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥
git pull origin main

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–æ–±–µ—Ä–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
npm run build

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
pm2 restart school-canteen
# –∏–ª–∏
systemctl restart school-canteen
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **Health check**: `https://autogreatfood.ru/health`
   - –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: `{"status":"ok","timestamp":"..."}`

2. **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: `https://autogreatfood.ru/`
   - –î–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**:
   ```bash
   # –î–ª—è Render
   –ó–∞–π–¥–∏—Ç–µ –≤ Dashboard ‚Üí Logs
   
   # –î–ª—è PM2
   pm2 logs school-canteen
   
   # –î–ª—è systemd
   journalctl -u school-canteen -f
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
   - `NODE_ENV=production`
   - `DB_HOST` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω)
   - `DB_PASSWORD` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º)

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**:
   - PostgreSQL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω
   - –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–æ–º–µ–Ω, –æ–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
FRONTEND_URL=https://autogreatfood.ru
```

–ò –∏–∑–º–µ–Ω–∏—Ç–µ –≤ `server/index.js`:
```javascript
app.use(cors({
  origin: process.env.FRONTEND_URL || 'https://autogreatfood.ru',
  credentials: true
}))
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ —Å–∞–π—Ç –¥–æ–ª–∂–µ–Ω –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å.
