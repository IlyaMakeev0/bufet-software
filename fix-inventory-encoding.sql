-- Очистка таблиц
TRUNCATE TABLE inventory_log CASCADE;
TRUNCATE TABLE inventory CASCADE;

-- Добавление продуктов с правильной кодировкой
INSERT INTO inventory (id, name, quantity, unit, min_quantity) VALUES
('dd1241f2-d11c-4e4b-a460-c46cd9640b19', 'Картофель молодой', 50.00, 'кг', 20.00),
('d8c6ea43-31e9-4f18-8b0f-e9ff06b05151', 'Капуста', 100.00, 'кг', 30.00),
('5c4b98a0-ba78-4167-970b-28af1c685532', 'Морковь свежая', 30.00, 'кг', 15.00),
('9e89053d-0b8c-4889-8ec1-58efc633fd45', 'Лук', 15.00, 'кг', 10.00),
('d9e74f07-479e-4606-aee0-ac33d7d7f747', 'Помидоры', 40.00, 'кг', 20.00),
('a1b2c3d4-e5f6-4789-a012-345678901234', 'Огурцы', 35.00, 'кг', 15.00),
('b2c3d4e5-f6a7-4890-b123-456789012345', 'Перец болгарский', 25.00, 'кг', 10.00),
('c3d4e5f6-a7b8-4901-c234-567890123456', 'Баклажаны', 20.00, 'кг', 8.00),
('d4e5f6a7-b8c9-4012-d345-678901234567', 'Кабачки', 30.00, 'кг', 12.00),
('e5f6a7b8-c9d0-4123-e456-789012345678', 'Свекла', 45.00, 'кг', 20.00),
('f6a7b8c9-d0e1-4234-f567-890123456789', 'Тыква', 60.00, 'кг', 25.00),
('a7b8c9d0-e1f2-4345-a678-901234567890', 'Яблоки', 80.00, 'кг', 30.00),
('b8c9d0e1-f2a3-4456-b789-012345678901', 'Груши', 50.00, 'кг', 20.00),
('c9d0e1f2-a3b4-4567-c890-123456789012', 'Бананы', 40.00, 'кг', 15.00),
('d0e1f2a3-b4c5-4678-d901-234567890123', 'Апельсины', 55.00, 'кг', 20.00),
('e1f2a3b4-c5d6-4789-e012-345678901234', 'Мандарины', 45.00, 'кг', 18.00),
('f2a3b4c5-d6e7-4890-f123-456789012345', 'Молоко', 100.00, 'л', 40.00),
('a3b4c5d6-e7f8-4901-a234-567890123456', 'Кефир', 60.00, 'л', 25.00),
('b4c5d6e7-f8a9-4012-b345-678901234567', 'Сметана', 30.00, 'кг', 12.00),
('c5d6e7f8-a9b0-4123-c456-789012345678', 'Творог', 40.00, 'кг', 15.00),
('d6e7f8a9-b0c1-4234-d567-890123456789', 'Масло сливочное', 25.00, 'кг', 10.00),
('e7f8a9b0-c1d2-4345-e678-901234567890', 'Масло растительное', 50.00, 'л', 20.00),
('f8a9b0c1-d2e3-4456-f789-012345678901', 'Мука пшеничная', 200.00, 'кг', 80.00),
('a9b0c1d2-e3f4-4567-a890-123456789012', 'Сахар', 150.00, 'кг', 60.00),
('b0c1d2e3-f4a5-4678-b901-234567890123', 'Соль', 100.00, 'кг', 40.00),
('c1d2e3f4-a5b6-4789-c012-345678901234', 'Рис', 80.00, 'кг', 30.00),
('d2e3f4a5-b6c7-4890-d123-456789012345', 'Гречка', 70.00, 'кг', 28.00),
('e3f4a5b6-c7d8-4901-e234-567890123456', 'Макароны', 90.00, 'кг', 35.00),
('f4a5b6c7-d8e9-4012-f345-678901234567', 'Яйца куриные', 500.00, 'шт', 200.00),
('a5b6c7d8-e9f0-4123-a456-789012345678', 'Курица', 60.00, 'кг', 25.00);

-- Добавление логов для каждого продукта
INSERT INTO inventory_log (id, inventory_id, action, quantity_change, quantity_before, quantity_after, reason, created_by)
SELECT 
    gen_random_uuid(),
    id,
    'пополнение',
    quantity,
    0,
    quantity,
    'Начальное заполнение склада',
    (SELECT id FROM users WHERE role = 'chef' LIMIT 1)
FROM inventory;
