# ๐ณ School Canteen - Docker Edition

> ะะพะปะฝะฐั ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั ะฟัะพะตะบัะฐ School Canteen ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ Docker

---

## ๐ฏ ะงัะพ ััะพ?

ะญัะพ Docker-ะฒะตััะธั ะฟัะพะตะบัะฐ School Canteen - ัะธััะตะผั ัะฟัะฐะฒะปะตะฝะธั ัะบะพะปัะฝะพะน ััะพะปะพะฒะพะน. ะัะพะตะบั ะฟะพะปะฝะพัััั ะบะพะฝัะตะนะฝะตัะธะทะธัะพะฒะฐะฝ ะธ ะณะพัะพะฒ ะบ ะทะฐะฟััะบั ะพะดะฝะพะน ะบะพะผะฐะฝะดะพะน.

### ะััะธัะตะบัััะฐ
- **2 ะบะพะฝัะตะนะฝะตัะฐ:** ะะฐะทะฐ ะดะฐะฝะฝัั (PostgreSQL) + ะัะธะปะพะถะตะฝะธะต (React + Express)
- **1 ะบะพะผะฐะฝะดะฐ:** ะะฐะฟััะบ ะฒัะตะณะพ ะฟัะพะตะบัะฐ
- **0 ะทะฐะฒะธัะธะผะพััะตะน:** ะัะถะตะฝ ัะพะปัะบะพ Docker

---

## โก ะัััััะน ััะฐัั (3 ัะฐะณะฐ)

### 1. ะฃััะฐะฝะพะฒะธัะต Docker
- **Windows/Mac:** [Docker Desktop](https://www.docker.com/products/docker-desktop/)
- **Linux:** `sudo apt-get install docker.io docker-compose`

### 2. ะะฐะฟัััะธัะต ะฟัะพะตะบั

**Windows (ัะตะบะพะผะตะฝะดัะตััั):**
```
ะะฒะพะนะฝะพะน ะบะปะธะบ ะฝะฐ: docker-start-simple.bat
```

**ะะปะธ ััะฐะฝะดะฐััะฝัะน ัะฟะพัะพะฑ:**
```
ะะฒะพะนะฝะพะน ะบะปะธะบ ะฝะฐ: docker-start.bat
```

**Linux/Mac:**
```bash
docker-compose up --build -d
```

> **ะัะธะผะตัะฐะฝะธะต:** ะัะปะธ ะฒะพะทะฝะธะบะฐะตั ะพัะธะฑะบะฐ 500, ะธัะฟะพะปัะทัะนัะต `docker-start-simple.bat` ะธะปะธ ัะผ. [FIX_500_ERROR.md](./FIX_500_ERROR.md)

### 3. ะัะบัะพะนัะต ะฑัะฐัะทะตั
```
http://localhost:5000
```

**ะะพัะพะฒะพ! ๐**

---

## ๐ ะะพะบัะผะตะฝัะฐัะธั

### ะะปั ะฝะฐัะธะฝะฐััะธั
- ๐ **[DOCKER_FINAL_INSTRUCTIONS.md](./DOCKER_FINAL_INSTRUCTIONS.md)** - ะะพัะฐะณะพะฒะฐั ะธะฝััััะบัะธั
- โก **[DOCKER_QUICKSTART.md](./DOCKER_QUICKSTART.md)** - ะัััััะน ััะฐัั (5 ะผะธะฝัั)
- ๐ฎ **[DOCKER_COMMANDS.md](./DOCKER_COMMANDS.md)** - ะจะฟะฐัะณะฐะปะบะฐ ะบะพะผะฐะฝะด

### ะะปั ัะฐะทัะฐะฑะพััะธะบะพะฒ
- ๐ **[DOCKER_GUIDE.md](./DOCKER_GUIDE.md)** - ะะพะปะฝะพะต ััะบะพะฒะพะดััะฒะพ (60+ ัััะฐะฝะธั)
- ๐๏ธ **[DOCKER_README.md](./DOCKER_README.md)** - ะััะธัะตะบัััะฐ ะธ ะดะตัะฐะปะธ
- ๐ **[DOCKER_MIGRATION.md](./DOCKER_MIGRATION.md)** - ะงัะพ ะธะทะผะตะฝะธะปะพัั

### ะะปั ัะตััะธัะพะฒัะธะบะพะฒ
- ๐งช **[DOCKER_TESTING.md](./DOCKER_TESTING.md)** - ะะพะปะฝัะน ัะตะบะปะธัั ัะตััะธัะพะฒะฐะฝะธั
- โ **docker-test.bat** - ะะฒัะพะผะฐัะธัะตัะบะฐั ะฟัะพะฒะตัะบะฐ ะณะพัะพะฒะฝะพััะธ

### ะะฐะฒะธะณะฐัะธั
- ๐๏ธ **[DOCKER_INDEX.md](./DOCKER_INDEX.md)** - ะะฐะฒะธะณะฐัะธั ะฟะพ ะฒัะตะน ะดะพะบัะผะตะฝัะฐัะธะธ
- ๐ **[DOCKER_FILES_LIST.md](./DOCKER_FILES_LIST.md)** - ะกะฟะธัะพะบ ะฒัะตั ัะฐะนะปะพะฒ
- ๐ **[DOCKER_SUMMARY.md](./DOCKER_SUMMARY.md)** - Executive summary

---

## ๐ฎ ะฃะฟัะฐะฒะปะตะฝะธะต

### Windows (bat-ัะฐะนะปั)
```bash
docker-start.bat      # ะะฐะฟััะบ
docker-stop.bat       # ะััะฐะฝะพะฒะบะฐ
docker-rebuild.bat    # ะะตัะตัะฑะพัะบะฐ
docker-logs.bat       # ะะพะณะธ
docker-test.bat       # ะัะพะฒะตัะบะฐ
```

### Linux/Mac (ะบะพะผะฐะฝะดั)
```bash
docker-compose up -d              # ะะฐะฟััะบ
docker-compose down               # ะััะฐะฝะพะฒะบะฐ
docker-compose up --build -d      # ะะตัะตัะฑะพัะบะฐ
docker-compose logs -f            # ะะพะณะธ
docker-compose ps                 # ะกัะฐััั
```

---

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         Docker Compose                  โ
โ                                         โ
โ  โโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโ   โ
โ  โ     app      โ   โ      db      โ   โ
โ  โ              โ   โ              โ   โ
โ  โ React (Vite) โ   โ PostgreSQL   โ   โ
โ  โ Express.js   โโโโโค   15-alpine  โ   โ
โ  โ              โ   โ              โ   โ
โ  โ Port: 5000   โ   โ Port: 5432   โ   โ
โ  โโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโ   โ
โ         โ                    โ          โ
โ    app_data            postgres_data    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ
         โผ
  localhost:5000
```

### ะะพะผะฟะพะฝะตะฝัั
- **ะะฐะทะฐ ะดะฐะฝะฝัั:** PostgreSQL 15 Alpine (~80MB)
- **ะัะธะปะพะถะตะฝะธะต:** Node.js 18 Alpine (~200MB)
- **ะกะตัั:** Bridge network (ะธะทะพะปะธัะพะฒะฐะฝะฝะฐั)
- **Volumes:** Persistent storage ะดะปั ะดะฐะฝะฝัั

---

## โจ ะะพะทะผะพะถะฝะพััะธ

### ะะปั ัะฐะทัะฐะฑะพัะบะธ
- โ ะะดะธะฝะฐะบะพะฒะพะต ะพะบััะถะตะฝะธะต ะดะปั ะฒัะตั
- โ ะัััััะน onboarding (5 ะผะธะฝัั)
- โ ะะทะพะปััะธั ะพั ัะพัั-ัะธััะตะผั
- โ ะะตะณะบะพะต ะฟะตัะตะบะปััะตะฝะธะต ะฒะตััะธะน

### ะะปั production
- โ ะะพัะฟัะพะธะทะฒะพะดะธะผัะต ะดะตะฟะปะพะธ
- โ ะะพัะธะทะพะฝัะฐะปัะฝะพะต ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต
- โ ะะทะพะปััะธั ัะตัะฒะธัะพะฒ
- โ ะัะพััะพะน rollback

### ะะปั DevOps
- โ CI/CD ready
- โ Infrastructure as Code
- โ ะะพะฝะธัะพัะธะฝะณ ะธ ะปะพะณะธัะพะฒะฐะฝะธะต
- โ ะฃะฟัะฐะฒะปะตะฝะธะต ัะตััััะฐะผะธ

---

## ๐ ะงัะพ ะฒะบะปััะตะฝะพ

### ะะพะฝัะธะณััะฐัะธั (5 ัะฐะนะปะพะฒ)
- `Dockerfile` - ะพะฑัะฐะท ะฟัะธะปะพะถะตะฝะธั
- `docker-compose.yml` - ะพัะบะตัััะฐัะธั
- `.dockerignore` - ะธัะบะปััะตะฝะธั
- `.env.docker` - ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
- `init-db.sql` - ะธะฝะธัะธะฐะปะธะทะฐัะธั ะะ

### ะะพะด (2 ัะฐะนะปะฐ)
- `server/database-postgres.js` - PostgreSQL ะฐะดะฐะฟัะตั
- `server/index-docker.js` - ัะพัะบะฐ ะฒัะพะดะฐ

### ะะพะบัะผะตะฝัะฐัะธั (10 ัะฐะนะปะพะฒ)
- ะะพะปะฝะพะต ััะบะพะฒะพะดััะฒะพ (60+ ัััะฐะฝะธั)
- ะัััััะน ััะฐัั
- ะััะธัะตะบัััะฐ
- ะขะตััะธัะพะฒะฐะฝะธะต
- Troubleshooting
- ะ ะผะฝะพะณะพะต ะดััะณะพะต...

### ะกะบัะธะฟัั (5 ัะฐะนะปะพะฒ)
- Windows bat-ัะฐะนะปั ะดะปั ัะฟัะฐะฒะปะตะฝะธั
- ะะฒัะพะผะฐัะธัะตัะบะฐั ะฟัะพะฒะตัะบะฐ ะณะพัะพะฒะฝะพััะธ
- ะัะพัะผะพัั ะปะพะณะพะฒ
- ะะตัะตัะฑะพัะบะฐ

---

## ๐ง ะขัะตะฑะพะฒะฐะฝะธั

### ะะธะฝะธะผะฐะปัะฝัะต
- **Docker:** 20.10+
- **Docker Compose:** 2.0+
- **RAM:** 2GB
- **Disk:** 5GB

### ะะตะบะพะผะตะฝะดัะตะผัะต
- **Docker:** 24.0+
- **Docker Compose:** 2.20+
- **RAM:** 4GB
- **Disk:** 10GB

---

## โ ะัะพะฒะตัะบะฐ ัะฐะฑะพัั

### 1. ะกัะฐััั ะบะพะฝัะตะนะฝะตัะพะฒ
```bash
docker ps
```
ะะพะปะถะฝั ะฑััั ะทะฐะฟััะตะฝั:
- `school-canteen-app` (ะฟะพัั 5000)
- `school-canteen-db` (ะฟะพัั 5432)

### 2. Health Check
```bash
curl http://localhost:5000/health
```
ะัะฒะตั: `{"status":"ok","timestamp":"..."}`

### 3. ะะตะฑ-ะธะฝัะตััะตะนั
ะัะบัะพะนัะต: http://localhost:5000

### 4. ะะฐะทะฐ ะดะฐะฝะฝัั
```bash
docker exec -it school-canteen-db psql -U canteen_user -d school_canteen -c "SELECT COUNT(*) FROM menu;"
```
ะะพะปะถะฝะพ ะฑััั ~270 ะทะฐะฟะธัะตะน

---

## ๐ Troubleshooting

### ะัะพะฑะปะตะผะฐ: ะะพัั ะทะฐะฝัั
```bash
# Windows
netstat -ano | findstr :5000
taskkill /PID <PID> /F

# Linux/Mac
lsof -i :5000
kill -9 <PID>
```

### ะัะพะฑะปะตะผะฐ: ะะพะฝัะตะนะฝะตั ะฝะต ะทะฐะฟััะบะฐะตััั
```bash
# ะัะพัะผะพัั ะปะพะณะพะฒ
docker-compose logs app

# ะะตัะตัะฑะพัะบะฐ
docker-compose down
docker-compose up --build -d
```

### ะัะพะฑะปะตะผะฐ: ะะฐะทะฐ ะดะฐะฝะฝัั ะฝะต ะธะฝะธัะธะฐะปะธะทะธััะตััั
```bash
# ะฃะดะฐะปะธัั volumes ะธ ะฟะตัะตัะพะทะดะฐัั
docker-compose down -v
docker-compose up --build -d
```

**ะะพะปััะต ัะตัะตะฝะธะน:** ะกะผ. [DOCKER_GUIDE.md](./DOCKER_GUIDE.md) โ Troubleshooting

---

## ๐ ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

### ะัะตะผั ะทะฐะฟััะบะฐ
- **ะะตัะฒัะน ะทะฐะฟััะบ:** 3-5 ะผะธะฝัั (ัะบะฐัะธะฒะฐะฝะธะต ะพะฑัะฐะทะพะฒ)
- **ะะพัะปะตะดัััะธะต:** 10-30 ัะตะบัะฝะด

### ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะตััััะพะฒ
- **CPU:** < 50%
- **Memory (app):** ~300MB
- **Memory (db):** ~100MB
- **Disk:** ~500MB (ะพะฑัะฐะทั + ะดะฐะฝะฝัะต)

### ะัะตะผั ะพัะฒะตัะฐ
- **Health check:** < 50ms
- **API requests:** < 100ms
- **Page load:** < 500ms

---

## ๐ Production Deployment

### ะะตะบะพะผะตะฝะดะฐัะธะธ
1. ะะทะผะตะฝะธัะต ะฟะฐัะพะปะธ ะฒ `.env.docker`
2. ะะฐัััะพะนัะต reverse proxy (nginx)
3. ะะบะปััะธัะต HTTPS
4. ะะฐัััะพะนัะต ะฐะฒัะพะผะฐัะธัะตัะบะธะต backup
5. ะะฐัััะพะนัะต ะผะพะฝะธัะพัะธะฝะณ

**ะะพะดัะพะฑะฝะตะต:** ะกะผ. [DOCKER_GUIDE.md](./DOCKER_GUIDE.md) โ Production Deployment

---

## ๐ ะะฑะฝะพะฒะปะตะฝะธะต

### ะะพัะปะต ะธะทะผะตะฝะตะฝะธั ะบะพะดะฐ
```bash
docker-compose up --build -d
```

### ะะพัะปะต ะธะทะผะตะฝะตะฝะธั ะทะฐะฒะธัะธะผะพััะตะน
```bash
docker-compose build --no-cache
docker-compose up -d
```

### ะะพะปะฝะฐั ะฟะตัะตัะฑะพัะบะฐ
```bash
docker-compose down -v
docker-compose up --build -d
```

---

## ๐ Changelog

### Version 1.0.0 (2024-01-24)
- โ ะกะพะทะดะฐะฝะฐ Docker-ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั
- โ ะะฐะทะดะตะปะตะฝะธะต ะฝะฐ 2 ะบะพะฝัะตะนะฝะตัะฐ
- โ PostgreSQL ะฒะผะตััะพ SQLite
- โ Multi-stage build
- โ Health checks
- โ ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
- โ Windows ัะบัะธะฟัั
- โ ะขะตััะพะฒัะต ััะตะฝะฐัะธะธ

---

## ๐ค Contributing

### ะะฐะบ ะฒะฝะตััะธ ะธะทะผะตะฝะตะฝะธั
1. ะะฝะตัะธัะต ะธะทะผะตะฝะตะฝะธั ะฒ ะบะพะด
2. ะัะพัะตััะธััะนัะต ะปะพะบะฐะปัะฝะพ: `docker-compose up --build -d`
3. ะะฐะฟัััะธัะต ัะตััั: ะกะผ. [DOCKER_TESTING.md](./DOCKER_TESTING.md)
4. ะะฑะฝะพะฒะธัะต ะดะพะบัะผะตะฝัะฐัะธั (ะตัะปะธ ะฝัะถะฝะพ)
5. ะกะพะทะดะฐะนัะต Pull Request

---

## ๐ ะะพะดะดะตัะถะบะฐ

### ะะพะบัะผะตะฝัะฐัะธั
- **ะัััััะน ััะฐัั:** [DOCKER_QUICKSTART.md](./DOCKER_QUICKSTART.md)
- **ะะพะปะฝะพะต ััะบะพะฒะพะดััะฒะพ:** [DOCKER_GUIDE.md](./DOCKER_GUIDE.md)
- **ะะฐะฒะธะณะฐัะธั:** [DOCKER_INDEX.md](./DOCKER_INDEX.md)

### ะัะพะฑะปะตะผั
1. ะัะพะฒะตัััะต ะปะพะณะธ: `docker-logs.bat` ะธะปะธ `docker-compose logs -f`
2. ะกะผ. Troubleshooting ะฒ [DOCKER_GUIDE.md](./DOCKER_GUIDE.md)
3. ะะฐะฟัััะธัะต ัะตััั: `docker-test.bat`

---

## ๐ License

ะกะผ. [LICENSE](./LICENSE)

---

## ๐ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!

```bash
# ะัะพะฒะตัะบะฐ
.\docker-test.bat

# ะะฐะฟััะบ
.\docker-start.bat

# ะัะบัััั
http://localhost:5000
```

**ะะพะบัะผะตะฝัะฐัะธั:** [DOCKER_INDEX.md](./DOCKER_INDEX.md)

---

**Made with โค๏ธ using Docker**

**Version:** 1.0.0  
**Status:** โ Production Ready
