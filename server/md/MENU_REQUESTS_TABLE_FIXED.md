# ‚úÖ –¢–∞–±–ª–∏—Ü–∞ menu_requests —Å–æ–∑–¥–∞–Ω–∞!

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞ 500 –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ—Ç–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫–∏ "–ù–æ–≤—ã–µ –±–ª—é–¥–∞":
```
POST http://localhost:5000/api/chef/menu-requests 500 (Internal Server Error)
POST http://localhost:5000/api/admin/menu-requests 500 (Internal Server Error)
```

## üîß –†–µ—à–µ–Ω–∏–µ

–°–æ–∑–¥–∞–Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ `menu_requests` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–í—ã–ø–æ–ª–Ω–µ–Ω —Å–∫—Ä–∏–ø—Ç `add-menu-requests-table.sql`:

```sql
CREATE TABLE menu_requests (
  id TEXT PRIMARY KEY,
  name TEXT NOT NULL,
  description TEXT,
  price NUMERIC(10, 2) NOT NULL,
  meal_type TEXT NOT NULL,
  ingredients JSONB NOT NULL,
  created_by TEXT NOT NULL REFERENCES users(id),
  status TEXT DEFAULT '–æ–∂–∏–¥–∞–µ—Ç',
  admin_comment TEXT,
  reviewed_by TEXT REFERENCES users(id),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  reviewed_at TIMESTAMP
);

CREATE INDEX idx_menu_requests_status ON menu_requests(status);
```

## üöÄ –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–ª—è –ø–æ–≤–∞—Ä–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000
2. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –ø–æ–≤–∞—Ä (–∫–æ–¥: **2222**)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"üçΩÔ∏è –ù–æ–≤—ã–µ –±–ª—é–¥–∞"**
4. –ù–∞–∂–º–∏—Ç–µ **"+ –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –±–ª—é–¥–æ"**
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000
2. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–∫–æ–¥: **0000**)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"üçΩÔ∏è –ù–æ–≤—ã–µ –±–ª—é–¥–∞"**
4. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –∏ –æ–¥–æ–±—Ä—è–π—Ç–µ/–æ—Ç–∫–ª–æ–Ω—è–π—Ç–µ –∑–∞—è–≤–∫–∏

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | TEXT | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| name | TEXT | –ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞ |
| description | TEXT | –û–ø–∏—Å–∞–Ω–∏–µ –±–ª—é–¥–∞ |
| price | NUMERIC | –¶–µ–Ω–∞ –±–ª—é–¥–∞ |
| meal_type | TEXT | –¢–∏–ø (–∑–∞–≤—Ç—Ä–∞–∫/–æ–±–µ–¥/–ø–æ–ª–¥–Ω–∏–∫) |
| ingredients | JSONB | –ú–∞—Å—Å–∏–≤ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ |
| created_by | TEXT | ID –ø–æ–≤–∞—Ä–∞ |
| status | TEXT | –°—Ç–∞—Ç—É—Å (–æ–∂–∏–¥–∞–µ—Ç/–æ–¥–æ–±—Ä–µ–Ω–∞/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∞) |
| admin_comment | TEXT | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| reviewed_by | TEXT | ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| created_at | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| reviewed_at | TIMESTAMP | –î–∞—Ç–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è |

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞:
```bash
docker exec school-canteen-db psql -U canteen_user -d school_canteen -c "\d menu_requests"
```

## ‚úÖ –°—Ç–∞—Ç—É—Å

- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ –í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## üîÑ –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

–ü—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F5), –∏ –≤–∫–ª–∞–¥–∫–∞ "–ù–æ–≤—ã–µ –±–ª—é–¥–∞" –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç!

---

**–î–∞—Ç–∞:** 24 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
