# üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTPS —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º SSL

## ‚úÖ –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. **Let's Encrypt** - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
2. **Certbot** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
3. **Nginx** - HTTPS —Å–µ—Ä–≤–µ—Ä —Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º —Å HTTP
4. **Docker** - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤
- ‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (TLS 1.2/1.3)
- ‚úÖ HSTS –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ OCSP Stapling
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –î–æ–º–µ–Ω
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: example.com)
- A-–∑–∞–ø–∏—Å—å –¥–æ–º–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

### 2. –°–µ—Ä–≤–µ—Ä
- –ü—É–±–ª–∏—á–Ω—ã–π IP –∞–¥—Ä–µ—Å
- –û—Ç–∫—Ä—ã—Ç—ã –ø–æ—Ä—Ç—ã 80 –∏ 443
- Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### 3. Email
- –î–µ–π—Å—Ç–≤—É—é—â–∏–π email –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç Let's Encrypt

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS

–°–æ–∑–¥–∞–π—Ç–µ A-–∑–∞–ø–∏—Å—å –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞:

```
–¢–∏–ø: A
–ò–º—è: @ (–∏–ª–∏ –≤–∞—à –ø–æ–¥–¥–æ–º–µ–Ω)
–ó–Ω–∞—á–µ–Ω–∏–µ: IP_–ê–î–†–ï–°_–í–ê–®–ï–ì–û_–°–ï–†–í–ï–†–ê
TTL: 3600
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS:
```bash
dig +short your-domain.com
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall
sudo ufw status

# –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã 80 –∏ 443
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp

# –ò–ª–∏ –¥–ª—è firewalld
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo firewall-cmd --reload
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x CICD/init-letsencrypt.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ)
./CICD/init-letsencrypt.sh your-domain.com your-email@example.com

# –ü—Ä–∏–º–µ—Ä:
./CICD/init-letsencrypt.sh school-canteen.ru admin@school-canteen.ru
```

### –®–∞–≥ 4: –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç DNS –∑–∞–ø–∏—Å–∏
2. ‚úÖ –°–æ–∑–¥–∞—Å—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
3. ‚úÖ –°–∫–∞—á–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã TLS
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
5. ‚úÖ –ü–æ–ª—É—á–∏—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
6. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS
curl -I https://your-domain.com

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS
curl -I http://your-domain.com

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
openssl s_client -connect your-domain.com:443 -servername your-domain.com
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
project/
‚îú‚îÄ‚îÄ CICD/
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.ssl.yml     ‚Üê Docker Compose —Å SSL
‚îÇ   ‚îú‚îÄ‚îÄ nginx.ssl.conf             ‚Üê Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å HTTPS
‚îÇ   ‚îú‚îÄ‚îÄ init-letsencrypt.sh        ‚Üê –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ renew-ssl.sh               ‚Üê –°–∫—Ä–∏–ø—Ç —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ certbot/
‚îÇ   ‚îú‚îÄ‚îÄ conf/                      ‚Üê –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ live/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ your-domain.com/
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ fullchain.pem
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ privkey.pem
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ chain.pem
‚îÇ   ‚îî‚îÄ‚îÄ www/                       ‚Üê –î–ª—è ACME challenge
‚îÇ
‚îî‚îÄ‚îÄ SSL_–ù–ê–°–¢–†–û–ô–ö–ê.md               ‚Üê –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

Certbot –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –∏:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤
2. –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∑–∞ 30 –¥–Ω–µ–π –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç nginx –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ certbot
docker-compose -f CICD/docker-compose.ssl.yml logs certbot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
docker-compose -f CICD/docker-compose.ssl.yml run --rm certbot certificates

# –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
./CICD/renew-ssl.sh
```

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

```bash
docker-compose -f CICD/docker-compose.ssl.yml up -d
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
docker-compose -f CICD/docker-compose.ssl.yml down
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ nginx:

```bash
docker-compose -f CICD/docker-compose.ssl.yml restart frontend
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:

```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose -f CICD/docker-compose.ssl.yml logs -f

# –¢–æ–ª—å–∫–æ nginx
docker-compose -f CICD/docker-compose.ssl.yml logs -f frontend

# –¢–æ–ª—å–∫–æ certbot
docker-compose -f CICD/docker-compose.ssl.yml logs -f certbot
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (staging):

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –ª–∏–º–∏—Ç–æ–≤ Let's Encrypt:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º 1 (staging)
./CICD/init-letsencrypt.sh your-domain.com your-email@example.com 1
```

Staging —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ –±—É–¥—É—Ç –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –Ω–æ –ø–æ–∑–≤–æ–ª—è—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL:

```bash
# SSL Labs —Ç–µ—Å—Ç
# –û—Ç–∫—Ä–æ–π—Ç–µ: https://www.ssllabs.com/ssltest/analyze.html?d=your-domain.com

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –ø–æ–º–æ—â—å—é curl
curl -vI https://your-domain.com

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
echo | openssl s_client -servername your-domain.com -connect your-domain.com:443 2>/dev/null | openssl x509 -noout -dates
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:

1. **TLS 1.2 –∏ 1.3** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã
2. **–°–∏–ª—å–Ω—ã–µ —à–∏—Ñ—Ä—ã** - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ Mozilla
3. **HSTS** - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π HTTPS
4. **OCSP Stapling** - –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
5. **Security headers** - –ó–∞—â–∏—Ç–∞ –æ—Ç XSS, clickjacking, –∏ —Ç.–¥.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
curl -I https://your-domain.com

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
# Strict-Transport-Security: max-age=31536000; includeSubDomains
# X-Frame-Options: SAMEORIGIN
# X-Content-Type-Options: nosniff
# X-XSS-Protection: 1; mode=block
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è:

```bash
# –ß–µ—Ä–µ–∑ certbot
docker-compose -f CICD/docker-compose.ssl.yml run --rm certbot certificates

# –ß–µ—Ä–µ–∑ openssl
echo | openssl s_client -servername your-domain.com -connect your-domain.com:443 2>/dev/null | openssl x509 -noout -dates
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:

Let's Encrypt –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
- –ó–∞ 20 –¥–Ω–µ–π –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è
- –ó–∞ 10 –¥–Ω–µ–π –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è
- –ó–∞ 1 –¥–µ–Ω—å –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É–∫–∞–∑–∞–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π email –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ!

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: DNS –Ω–µ —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS
dig +short your-domain.com

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ IP —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Å–µ—Ä–≤–µ—Ä–æ–º
curl ifconfig.me
```

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–æ–∂–¥–∏—Ç–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS (–¥–æ 24 —á–∞—Å–æ–≤) –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–∞.

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç—ã –∑–∞–∫—Ä—ã—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã
sudo netstat -tlnp | grep -E ':(80|443)'

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall
sudo ufw status
```

**–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã 80 –∏ 443 –≤ firewall.

### –ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –ø–æ–ª—É—á–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ certbot
docker-compose -f CICD/docker-compose.ssl.yml logs certbot
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- DNS –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ü–æ—Ä—Ç—ã –∑–∞–∫—Ä—ã—Ç—ã
- –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç Let's Encrypt (5 —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –≤ –Ω–µ–¥–µ–ª—é)

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ staging —Ä–µ–∂–∏–º –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –ü—Ä–æ–±–ª–µ–º–∞: Nginx –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
docker exec school-canteen-frontend nginx -t

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose -f CICD/docker-compose.ssl.yml logs frontend
```

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—É—Ç–∏ –∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º –≤ nginx.ssl.conf –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ.

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ certbot –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω
docker ps | grep certbot

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose -f CICD/docker-compose.ssl.yml logs certbot

# –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./CICD/renew-ssl.sh
```

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ù–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–º–µ–Ω–æ–≤:

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤:

```bash
# –ü–æ–ª—É—á–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–æ–º–µ–Ω–æ–≤
docker-compose -f CICD/docker-compose.ssl.yml run --rm certbot \
    certonly --webroot -w /var/www/certbot \
    --email your-email@example.com \
    --agree-tos \
    -d domain1.com \
    -d www.domain1.com \
    -d domain2.com
```

### Wildcard —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:

–î–ª—è wildcard (*.domain.com) –Ω—É–∂–Ω–∞ DNS –≤–∞–ª–∏–¥–∞—Ü–∏—è:

```bash
docker-compose -f CICD/docker-compose.ssl.yml run --rm certbot \
    certonly --manual --preferred-challenges dns \
    --email your-email@example.com \
    --agree-tos \
    -d *.your-domain.com
```

### –û—Ç–∑—ã–≤ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–æ–∑–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:

```bash
docker-compose -f CICD/docker-compose.ssl.yml run --rm certbot \
    revoke --cert-path /etc/letsencrypt/live/your-domain.com/cert.pem
```

## üéØ –ß–µ–∫-–ª–∏—Å—Ç

- [ ] –î–æ–º–µ–Ω –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
- [ ] A-–∑–∞–ø–∏—Å—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞
- [ ] DNS —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª—Å—è (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ dig)
- [ ] –ü–æ—Ä—Ç—ã 80 –∏ 443 –æ—Ç–∫—Ä—ã—Ç—ã
- [ ] Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –°–∫—Ä–∏–ø—Ç init-letsencrypt.sh –∑–∞–ø—É—â–µ–Ω
- [ ] –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø–æ–ª—É—á–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS
- [ ] –†–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Certbot –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω
- [ ] –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Let's Encrypt](https://letsencrypt.org/)
- [Certbot Documentation](https://certbot.eff.org/)
- [SSL Labs Test](https://www.ssllabs.com/ssltest/)
- [Mozilla SSL Configuration Generator](https://ssl-config.mozilla.org/)
- [HSTS Preload](https://hstspreload.org/)

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞—à —Å–∞–π—Ç:
- ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS
- ‚úÖ –ò–º–µ–µ—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- ‚úÖ –ó–∞—â–∏—â–µ–Ω —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç –æ—Ü–µ–Ω–∫—É A+ –Ω–∞ SSL Labs

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 28 —è–Ω–≤–∞—Ä—è 2026  
**–ü—Ä–æ–µ–∫—Ç:** –®–∫–æ–ª—å–Ω–∞—è —Å—Ç–æ–ª–æ–≤–∞—è

**–í–∞—à —Å–∞–π—Ç —Ç–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–µ–Ω! üîí**
