# ‚úÖ Docker —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!

## –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```
‚úÖ school-canteen-db   - PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ—Ä—Ç 5432)
‚úÖ school-canteen-app  - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 5000)
```

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å–∞–º:

- **http://localhost:5000**
- **http://127.0.0.1:5000**

## –ß—Ç–æ –±—ã–ª–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ:

### 1. –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω ‚úì
- –ö—Ä–∞—Å–Ω–æ-—Å–∏–Ω–µ-—á–µ—Ä–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
- –£–±—Ä–∞–Ω—ã –≤—Å–µ —Å–º–∞–π–ª–∏–∫–∏
- –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ ‚úì
- –¢–µ–ø–µ—Ä—å –±–∞–ª–∞–Ω—Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
- 1000‚ÇΩ + 500‚ÇΩ = 1500‚ÇΩ (–Ω–µ 1000500‚ÇΩ)

### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚úì
- PostgreSQL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
- –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã

## –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–≤—ã–π –¥–∏–∑–∞–π–Ω:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:**
   ```
   http://localhost:5000
   ```

2. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∫–∞–∫ —É—á–µ–Ω–∏–∫:**
   - Email: test@student.com
   - –ü–∞—Ä–æ–ª—å: test123
   - –ö–æ–¥: 1111

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞:**
   - –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å: 1000‚ÇΩ
   - –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ 500‚ÇΩ
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: 1500‚ÇΩ ‚úì

4. **–û—Ü–µ–Ω–∏—Ç–µ –Ω–æ–≤—ã–π –¥–∏–∑–∞–π–Ω:**
   - –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ ‚úì
   - –ö—Ä–∞—Å–Ω–æ-—Å–∏–Ω–∏–µ —Ü–≤–µ—Ç–∞ ‚úì
   - –ù–µ—Ç —Å–º–∞–π–ª–∏–∫–æ–≤ ‚úì
   - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–∏–¥ ‚úì

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
docker-compose logs -f app
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```bash
docker-compose logs -f db
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```bash
docker-compose restart app
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
```bash
docker-compose down
```

### –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞:
```bash
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL:
```bash
docker exec -it school-canteen-db psql -U canteen_user -d school_canteen
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü:
```sql
\dt
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```sql
SELECT email, role, balance FROM users;
```

### –í—ã—Ö–æ–¥:
```sql
\q
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π:

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–∞
- –ö–æ–¥: 1111
- –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å: 1000‚ÇΩ

### 2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–≤–∞—Ä–∞
- –ö–æ–¥: 2222

### 3. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ö–æ–¥: 0000

### 4. –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
- –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ —É—á–µ–Ω–∏–∫
- –ù–∞–∂–º–∏—Ç–µ "–ü–æ–ø–æ–ª–Ω–∏—Ç—å"
- –í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É: 500
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: 1000 + 500 = 1500 ‚úì

### 5. –ó–∞–∫–∞–∑ –ø–∏—Ç–∞–Ω–∏—è
- –í—ã–±–µ—Ä–∏—Ç–µ –±–ª—é–¥–æ –∏–∑ –º–µ–Ω—é
- –ù–∞–∂–º–∏—Ç–µ "–ó–∞–∫–∞–∑–∞—Ç—å"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–∞–Ω–∏–µ —Å –±–∞–ª–∞–Ω—Å–∞

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```bash
docker-compose ps
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:
```bash
docker stats
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏:
```bash
docker network ls
docker network inspect bufet-software_canteen-network
```

## –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:

### –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```bash
docker exec school-canteen-db pg_dump -U canteen_user school_canteen > backup.sql
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:
```bash
docker exec -i school-canteen-db psql -U canteen_user -d school_canteen < backup.sql
```

## Troubleshooting:

### –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs app`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ë–î: `docker-compose logs db`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `docker-compose restart`

### –ï—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç:
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –ø–æ—Ä—Ç—É 5000
2. –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `docker-compose.yml`

### –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ë–î –∑–∞–ø—É—â–µ–Ω: `docker-compose ps`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ë–î: `docker-compose logs db`
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-15 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç volume –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç production build
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Å–∂–∞—Ç—ã

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –ó–∞–ø—É—Å–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker-compose up -d --scale app=3
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –≤ `docker-compose.yml`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env` —Ñ–∞–π–ª –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤
3. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç–∞–º
4. –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –æ–±—Ä–∞–∑—ã

## –ì–æ—Ç–æ–≤–æ! üéâ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–æ–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º!

**–û—Ç–∫—Ä–æ–π—Ç–µ:** http://localhost:5000

**–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –Ω–æ–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º!** üöÄ
