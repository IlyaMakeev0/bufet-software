# üöÄ –ü–†–û–°–¢–û–ô –°–ü–û–°–û–ë –î–ï–ü–õ–û–Ø –ù–ê RENDER

## –ë–µ–∑ render.yaml - –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Dashboard

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞ —Å `render.yaml`, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–±.
–û–Ω –ø—Ä–æ—â–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è.

---

## üìã –®–ê–ì 1: –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Render Dashboard](https://dashboard.render.com)
2. –ù–∞–∂–º–∏—Ç–µ **"New +"** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –í—ã–±–µ—Ä–∏—Ç–µ **"PostgreSQL"**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:

```
Name: school-canteen-db
Database: school_canteen
User: canteen_user
Region: Frankfurt (–∏–ª–∏ –±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞–º)
PostgreSQL Version: 16 (–ø–æ—Å–ª–µ–¥–Ω—è—è)
Datadog API Key: (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
Plan: Free
```

5. –ù–∞–∂–º–∏—Ç–µ **"Create Database"**
6. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è (1-2 –º–∏–Ω—É—Ç—ã)
7. **–í–ê–ñ–ù–û:** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ:
   - **Internal Database URL** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `postgresql://`)
   - **External Database URL** (–¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑–≤–Ω–µ)

---

## üìã –®–ê–ì 2: –°–æ–∑–¥–∞–π—Ç–µ Web Service

1. –ù–∞–∂–º–∏—Ç–µ **"New +"** ‚Üí **"Web Service"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Build and deploy from a Git repository"**
3. –ù–∞–∂–º–∏—Ç–µ **"Connect account"** –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub
4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `bufet-software`
5. –ù–∞–∂–º–∏—Ç–µ **"Connect"**

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Web Service:

```
Name: school-canteen-app
Region: Frankfurt (—Ç–æ—Ç –∂–µ —á—Ç–æ –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö!)
Branch: main
Root Directory: (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
Runtime: Node
Build Command: npm install && npm run build
Start Command: npm start
Plan: Free
```

6. **–ù–ï –ù–ê–ñ–ò–ú–ê–ô–¢–ï "Create Web Service" –ï–©–ï!**
7. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ **"Environment Variables"**

---

## üìã –®–ê–ì 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ù–∞–∂–º–∏—Ç–µ **"Add Environment Variable"** –∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–∞–∂–¥—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:

### 1. NODE_ENV
```
Key: NODE_ENV
Value: production
```

### 2. PORT
```
Key: PORT
Value: 10000
```

### 3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ò–∑ **Internal Database URL** –≤–∞—à–µ–π PostgreSQL –±–∞–∑—ã:
```
postgresql://canteen_user:PASSWORD@HOST:5432/school_canteen
```

–†–∞–∑–±–µ—Ä–∏—Ç–µ URL –∏ –¥–æ–±–∞–≤—å—Ç–µ:

#### DB_HOST
```
Key: DB_HOST
Value: <HOST –∏–∑ URL>
```
–ü—Ä–∏–º–µ—Ä: `dpg-xxxxx-a.frankfurt-postgres.render.com`

#### DB_PORT
```
Key: DB_PORT
Value: 5432
```

#### DB_NAME
```
Key: DB_NAME
Value: school_canteen
```

#### DB_USER
```
Key: DB_USER
Value: canteen_user
```

#### DB_PASSWORD
```
Key: DB_PASSWORD
Value: <PASSWORD –∏–∑ URL>
```

#### DATABASE_URL
```
Key: DATABASE_URL
Value: <–ø–æ–ª–Ω—ã–π Internal Database URL>
```

### 4. SESSION_SECRET

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É:

**Windows:**
```powershell
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

**Linux/Mac:**
```bash
openssl rand -hex 32
```

–î–æ–±–∞–≤—å—Ç–µ:
```
Key: SESSION_SECRET
Value: <—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞>
```

---

## üìã –®–ê–ì 4: –°–æ–∑–¥–∞–π—Ç–µ Web Service

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 9 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö)
2. –ù–∞–∂–º–∏—Ç–µ **"Create Web Service"**
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ (3-5 –º–∏–Ω—É—Ç)

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
```
‚è≥ Cloning repository...
‚è≥ Installing dependencies...
‚è≥ Building application...
‚è≥ Starting server...
‚úÖ Deploy successful!
```

---

## üìã –®–ê–ì 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Web Service –≤ Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Logs"**
3. –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

```
‚è≥ Waiting for PostgreSQL...
‚úÖ PostgreSQL is ready!
üîÑ Checking PostgreSQL database...
‚úÖ Database initialized
üöÄ Server running on port 10000
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è!

---

## üìã –®–ê–ì 6: –ü—Ä–∏–º–µ–Ω–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Render Shell (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –í Dashboard –≤–∞—à–µ–≥–æ Web Service
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Shell"**
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
cat create-test-accounts.sql | psql $DATABASE_URL
```

5. –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
DO
INSERT 0 1
INSERT 0 1
INSERT 0 1
INSERT 0 2
–¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã!
total_verified_users: 5
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **External Database URL** –∏–∑ PostgreSQL –±–∞–∑—ã
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
psql "–≤–∞—à_EXTERNAL_DATABASE_URL" < create-test-accounts.sql
```

---

## üìã –®–ê–ì 7: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–≤ Dashboard)
   ```
   https://school-canteen-app.onrender.com
   ```

2. –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å 3 –∫–Ω–æ–ø–∫–∞–º–∏

3. –ù–∞–∂–º–∏—Ç–µ **"–í—Ö–æ–¥ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤"**

4. –í–≤–µ–¥–∏—Ç–µ:
   ```
   Email: student@test.com
   –ü–∞—Ä–æ–ª—å: test123
   ```

5. –ï—Å–ª–∏ –≤—Ö–æ–¥ —É—Å–ø–µ—à–µ–Ω - **–ì–û–¢–û–í–û!** üéâ

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –§–£–ù–ö–¶–ò–ô

### –°—Ç—É–¥–µ–Ω—Ç (student@test.com / test123):
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ–Ω—é
- [ ] –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- [ ] –ü–æ–∫—É–ø–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- [ ] –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤

### –ü–æ–≤–∞—Ä (chef@test.com / test123):
- [ ] –í—ã–¥–∞—á–∞ –±–ª—é–¥
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–æ–º
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (admin@test.com / test123):
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é
- [ ] –û–¥–æ–±—Ä–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## üêõ TROUBLESHOOTING

### –û—à–∏–±–∫–∞: "Cannot connect to database"

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (DB_HOST, DB_PASSWORD)
2. Internal Database URL —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—É—â–µ–Ω–∞ (–∑–µ–ª–µ–Ω—ã–π —Å—Ç–∞—Ç—É—Å –≤ Dashboard)

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ PostgreSQL –≤ Dashboard
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Internal Database URL –∑–∞–Ω–æ–≤–æ
3. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Web Service
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: Manual Deploy ‚Üí Deploy latest commit

### –û—à–∏–±–∫–∞: "Build failed"

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏:**
1. Dashboard ‚Üí Web Service ‚Üí Logs
2. –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å –æ—à–∏–±–∫–æ–π

**–ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Build Command
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç package.json
- –û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Build Command: `npm install && npm run build`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Start Command: `npm start`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ –Ω–∞ GitHub –∞–∫—Ç—É–∞–ª—å–Ω—ã–π

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –°—Ç–∞—Ç—É—Å Web Service (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–µ–ª–µ–Ω—ã–π)
2. –õ–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PORT=10000

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
```bash
# –í Render Shell
psql $DATABASE_URL -c "SELECT COUNT(*) FROM users;"
```

**–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü –Ω–µ—Ç:**
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞—Å—Ç –∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Web Service
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –µ—Å—Ç—å, –Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ—Ç:**
1. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã (–®–∞–≥ 6)

---

## üìä –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

### –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î:
```bash
psql "–≤–∞—à_EXTERNAL_DATABASE_URL"
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã:
```sql
\dt
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```sql
SELECT email, role, email_verified FROM users;
```

### –û—á–∏—Å—Ç–∏—Ç—å –ë–î (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
```sql
DROP SCHEMA public CASCADE;
CREATE SCHEMA public;
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
Dashboard ‚Üí Manual Deploy ‚Üí Deploy latest commit

---

## üéØ –ß–ï–ö–õ–ò–°–¢

- [ ] PostgreSQL –±–∞–∑–∞ —Å–æ–∑–¥–∞–Ω–∞
- [ ] Internal Database URL —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
- [ ] Web Service —Å–æ–∑–¥–∞–Ω
- [ ] 9 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç "Server running"
- [ ] –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- [ ] –í—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã

---

## üåê –í–ê–®–ò –î–ê–ù–ù–´–ï

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

```
PostgreSQL Database URL:
_________________________________________________

Web Service URL:
_________________________________________________

–î–∞—Ç–∞ –¥–µ–ø–ª–æ—è:
_________________________________________________

–°—Ç–∞—Ç—É—Å: ‚¨ú –í –ø—Ä–æ—Ü–µ—Å—Å–µ / ‚úÖ –ì–æ—Ç–æ–≤–æ / ‚ùå –ü—Ä–æ–±–ª–µ–º—ã
```

---

## üéâ –ì–û–¢–û–í–û!

–ï—Å–ª–∏ –≤—Å–µ –ø—É–Ω–∫—Ç—ã —á–µ–∫–ª–∏—Å—Ç–∞ –æ—Ç–º–µ—á–µ–Ω—ã - –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ!

**URL:** https://school-canteen-app.onrender.com  
**–¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:** student@test.com / test123

---

**–£–¥–∞—á–∏!** üöÄ
