# üîí HTTPS –ù–∞—Å—Ç—Ä–æ–µ–Ω –∏ –ì–æ—Ç–æ–≤ –∫ –ó–∞–ø—É—Å–∫—É

## ‚úÖ –ß—Ç–æ –°–¥–µ–ª–∞–Ω–æ

1. **SSL –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã**
   - –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á: `cert/key.txt`
   - –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç: `cert/www_autogreatfood_ru_2026_08_30.crt`
   - –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: –¥–æ **30 –∞–≤–≥—É—Å—Ç–∞ 2026**

2. **–°–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ HTTPS**
   - HTTPS –ø–æ—Ä—Ç: **443**
   - HTTP –ø–æ—Ä—Ç: **80** (–¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS

3. **–î–æ–º–µ–Ω—ã**
   - https://www.autogreatfood.ru
   - https://autogreatfood.ru

## üöÄ –ö–∞–∫ –ó–∞–ø—É—Å—Ç–∏—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
npm install

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
npm start
```

**–í–∞–∂–Ω–æ:** –î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 80 –∏ 443 –Ω—É–∂–Ω—ã –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

```bash
# Windows (–∑–∞–ø—É—Å—Ç–∏—Ç—å PowerShell –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
npm start

# –ò–ª–∏ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å Node —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
node server/index.js
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

–û–±–Ω–æ–≤–∏—Ç–µ `docker-compose.yml`:

```yaml
version: '3.8'

services:
  app:
    build: .
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./cert:/app/cert:ro
    environment:
      - NODE_ENV=production
      - HTTPS_PORT=443
      - HTTP_PORT=80
      - ENABLE_HTTP_REDIRECT=true
```

–ó–∞–ø—É—Å–∫:

```bash
docker-compose up -d
```

## üåê –î–æ—Å—Ç—É–ø –∫ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—é

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å–∞–º:

- **–û—Å–Ω–æ–≤–Ω–æ–π:** https://www.autogreatfood.ru
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π:** https://autogreatfood.ru
- **–õ–æ–∫–∞–ª—å–Ω–æ:** https://localhost

HTTP –∑–∞–ø—Ä–æ—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ HTTPS.

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .env

```env
NODE_ENV=production
HTTP_PORT=80
HTTPS_PORT=443
FRONTEND_URL=https://www.autogreatfood.ru
ENABLE_HTTP_REDIRECT=true
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ú–æ–º–µ–Ω—Ç—ã

1. **DNS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω—ã `autogreatfood.ru` –∏ `www.autogreatfood.ru` —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä

2. **Firewall**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã 80 –∏ 443 –≤ —Ñ–∞–π—Ä–≤–æ–ª–µ
   - Windows: `netsh advfirewall firewall add rule name="HTTPS" dir=in action=allow protocol=TCP localport=443`
   - Windows: `netsh advfirewall firewall add rule name="HTTP" dir=in action=allow protocol=TCP localport=80`

3. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**
   - –î–ª—è –ø–æ—Ä—Ç–æ–≤ < 1024 –Ω—É–∂–Ω—ã –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ reverse proxy (nginx) –∏–ª–∏ Docker

4. **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ 30.08.2026**
   - –ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS
curl -I https://www.autogreatfood.ru

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ —Å HTTP
curl -I http://www.autogreatfood.ru
```

–ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- https://www.autogreatfood.ru
- –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–º–æ—á–µ–∫ üîí –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ

## üìù –õ–æ–≥–∏

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
üîí HTTPS Server running on:
   - https://www.autogreatfood.ru:443
   - https://autogreatfood.ru:443
   - https://localhost:443

üîÑ HTTP Redirect Server running on port 80
   Redirecting all traffic to HTTPS

‚úÖ SSL Certificate: www.autogreatfood.ru (valid until 2026-08-30)
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "EACCES: permission denied"
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Ä—Ç—ã > 1024 (–Ω–∞–ø—Ä–∏–º–µ—Ä, 8080 –∏ 8443)

### –û—à–∏–±–∫–∞ "EADDRINUSE"
- –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç
- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 80/443
- –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç—ã –≤ .env

### –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–æ–º–µ–Ω —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º
- –î–ª—è localhost –¥–æ–±–∞–≤—å—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ HTTPS —Å –Ω–∞—Å—Ç–æ—è—â–∏–º SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º!
