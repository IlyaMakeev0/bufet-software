# üîí HTTPS –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

## ‚úÖ –ß—Ç–æ –°–¥–µ–ª–∞–Ω–æ

### 1. SSL –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- ‚úÖ –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á: `cert/key.txt` (1707 –±–∞–π—Ç)
- ‚úÖ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç: `cert/www_autogreatfood_ru_2026_08_30.crt` (2277 –±–∞–π—Ç)
- ‚úÖ –î–æ–º–µ–Ω—ã: www.autogreatfood.ru, autogreatfood.ru
- ‚úÖ –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: **–¥–æ 30 –∞–≤–≥—É—Å—Ç–∞ 2026**

### 2. –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ß–∞—Å—Ç—å (server/index.js)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `https` –∏ `fs`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã SSL –æ–ø—Ü–∏–∏ —Å –ø—É—Ç—è–º–∏ –∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º
- ‚úÖ HTTPS —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 443
- ‚úÖ HTTP —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 80 (–¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç HTTP ‚Üí HTTPS
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ HTTPS –¥–æ–º–µ–Ω
- ‚úÖ Secure cookies –≤–∫–ª—é—á–µ–Ω—ã

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)
- ‚úÖ NODE_ENV=production
- ‚úÖ HTTPS_PORT=443
- ‚úÖ HTTP_PORT=80
- ‚úÖ FRONTEND_URL=https://www.autogreatfood.ru
- ‚úÖ ENABLE_HTTP_REDIRECT=true

### 4. –°–∫—Ä–∏–ø—Ç—ã –∏ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `start-https.bat` - –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤
- ‚úÖ `HTTPS_–ó–ê–ü–£–°–ö.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- ‚úÖ `–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢_HTTPS.txt` - –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- ‚úÖ `package.json` - –¥–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç `start:https`

## üöÄ –ö–∞–∫ –ó–∞–ø—É—Å—Ç–∏—Ç—å

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ BAT —Ñ–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ start-https.bat
# ‚Üí "–ó–∞–ø—É—Å–∫ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"
```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ PowerShell
```powershell
# –û—Ç–∫—Ä—ã—Ç—å PowerShell –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
npm start
```

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ Node
```powershell
# –û—Ç–∫—Ä—ã—Ç—å PowerShell –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
node server/index.js
```

## üåê –î–æ—Å—Ç—É–ø

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ:
- **–û—Å–Ω–æ–≤–Ω–æ–π:** https://www.autogreatfood.ru
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π:** https://autogreatfood.ru
- **–õ–æ–∫–∞–ª—å–Ω–æ:** https://localhost

HTTP –∑–∞–ø—Ä–æ—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ HTTPS.

## üìã –ß—Ç–æ –í—ã –£–≤–∏–¥–∏—Ç–µ –ü—Ä–∏ –ó–∞–ø—É—Å–∫–µ

```
üîí HTTPS Server running on:
   - https://www.autogreatfood.ru:443
   - https://autogreatfood.ru:443
   - https://localhost:443
   - https://[–≤–∞—à-–ª–æ–∫–∞–ª—å–Ω—ã–π-IP]:443

üîÑ HTTP Redirect Server running on port 80
   Redirecting all traffic to HTTPS

üóÑÔ∏è  Database: PostgreSQL

‚úÖ SSL Certificate: www.autogreatfood.ru (valid until 2026-08-30)
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –ü—Ä–∞–≤–∞ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
–ü–æ—Ä—Ç—ã 80 –∏ 443 —Ç—Ä–µ–±—É—é—Ç –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ Windows.

### 2. DNS –ù–∞—Å—Ç—Ä–æ–π–∫–∏
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω—ã —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä:
- autogreatfood.ru ‚Üí IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- www.autogreatfood.ru ‚Üí IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

### 3. Firewall
–û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã –≤ —Ñ–∞–π—Ä–≤–æ–ª–µ:
```powershell
# –û—Ç–∫—Ä—ã—Ç—å PowerShell –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
netsh advfirewall firewall add rule name="HTTPS" dir=in action=allow protocol=TCP localport=443
netsh advfirewall firewall add rule name="HTTP" dir=in action=allow protocol=TCP localport=80
```

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –†–∞–±–æ—Ç—ã

### –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://www.autogreatfood.ru
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –∑–∞–º–æ—á–∫–∞ üîí –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∑–∞–º–æ—á–µ–∫ ‚Üí "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω"

### –ß–µ—Ä–µ–∑ curl:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS
curl -I https://www.autogreatfood.ru

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
curl -I http://www.autogreatfood.ru
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 301 Moved Permanently
```

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ò–∑–º–µ–Ω–µ–Ω–∏–π

```
server/index.js
‚îú‚îÄ‚îÄ –ò–º–ø–æ—Ä—Ç—ã: + https, fs
‚îú‚îÄ‚îÄ SSL –æ–ø—Ü–∏–∏: key + cert –∏–∑ –ø–∞–ø–∫–∏ cert/
‚îú‚îÄ‚îÄ HTTPS —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 443
‚îî‚îÄ‚îÄ HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 80

.env
‚îú‚îÄ‚îÄ NODE_ENV=production
‚îú‚îÄ‚îÄ HTTPS_PORT=443
‚îú‚îÄ‚îÄ HTTP_PORT=80
‚îú‚îÄ‚îÄ FRONTEND_URL=https://www.autogreatfood.ru
‚îî‚îÄ‚îÄ ENABLE_HTTP_REDIRECT=true

–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
‚îú‚îÄ‚îÄ start-https.bat (–∑–∞–ø—É—Å–∫ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤)
‚îú‚îÄ‚îÄ HTTPS_–ó–ê–ü–£–°–ö.md (–ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)
‚îú‚îÄ‚îÄ –ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢_HTTPS.txt (–∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)
‚îî‚îÄ‚îÄ HTTPS_–ì–û–¢–û–í–û.md (—ç—Ç–∞ —Å–≤–æ–¥–∫–∞)
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º

### "EACCES: permission denied"
‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### "EADDRINUSE: address already in use"
‚Üí –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç, –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:
```powershell
netstat -ano | findstr :443
netstat -ano | findstr :80
taskkill /PID [–Ω–æ–º–µ—Ä_–ø—Ä–æ—Ü–µ—Å—Å–∞] /F
```

### –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ"
‚Üí –î–ª—è localhost –¥–æ–±–∞–≤—å—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
‚Üí –î–ª—è –¥–æ–º–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ DNS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è
‚Üí –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º
‚Üí –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è autogreatfood.ru –∏ www.autogreatfood.ru

## üìÖ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ

**–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ 30.08.2026**

–ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞!

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º—É HTTPS –ø—Ä–æ—Ç–æ–∫–æ–ª—É —Å –Ω–∞—Å—Ç–æ—è—â–∏–º SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º –æ—Ç GlobalSign!

---

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ `start-https.bat`
2. –û—Ç–∫—Ä–æ–π—Ç–µ https://www.autogreatfood.ru
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –∑–∞–º–æ—á–∫–∞ üîí
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: `HTTPS_–ó–ê–ü–£–°–ö.md`
- –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: `–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢_HTTPS.txt`
